<div class="container">
  <form class="mt-4" (ngSubmit)="registerUser()" #registerForm="ngForm">
  <legend>WikiRol Register</legend>

  <div class="mb-3">
    <label for="correo">Name:</label>
    <input type="name" class="form-control" name="email" id="email" placeholder="Username" required #nameModel="ngModel"
      [(ngModel)]="newRegister.name" [ngClass]="validClasses(nameModel, 'is-valid', 'is-invalid')"/>
  </div>
  <div class="mb-3">
    <label for="password">Password:</label>
    <input type="password" class="form-control" name="password" id="password" placeholder="Password" #passwordModel="ngModel"
    [(ngModel)]="newRegister.password" [ngClass]="validClasses(passwordModel, 'is-valid', 'is-invalid')" required minlength="4" />
  </div>
  <p class="text-danger" id="errorInfo"></p>

  <div class="mb-3">
    <label for="image">Image</label>
    <input
      type="file"
      class="form-control"
      id="avatar"
      name="avatar"
      #fileImage
      (change)="changeImage(fileImage)"
      ngModel
      required
      #avatarModel="ngModel"
      [ngClass]="validClasses(avatarModel, 'is-valid', 'is-invalid')"
    />
    <div class="invalid-feedback">An image is required.</div>
  </div>

  <div class="mb-3">
    <label for="correo">Secret Key:</label>
    <input type="password" class="form-control" name="key" id="key" placeholder="Insert your secret key" required #keyModel="ngModel"
      [(ngModel)]="newRegister.key" [ngClass]="validClasses(keyModel, 'is-valid', 'is-invalid')"/>
  </div>

  <div>
    <button type="submit" class="btn btn-primary" [disabled]="registerForm.invalid">Register</button>
    &nbsp;
    <a class="btn btn-secondary" [routerLink]="['/auth/login']" >Go to Login</a>
  </div>
  </form>
</div>
