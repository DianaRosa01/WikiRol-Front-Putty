
<ul class="tabs-container">
  <li (click)="onTabClick('General')" class="tab-link">General</li>
  <li (click)="onTabClick('Stats')" class="tab-link">Stats</li>
  <li (click)="onTabClick('Lore')" class="tab-link">Lore</li>
  <li (click)="onTabClick('Media')" class="tab-link">Media</li>
</ul>
<h2>{{character.nombre}}</h2>

<div class="container">
<div *ngIf="character">

  <div *ngIf="activeTab ==='General'">
    <img class="card-img-top" src="{{ character.fotoPerfil }}" />
  </div>

  <br>
  <div class="monster-sheet">

    <div *ngIf="activeTab ==='General'">
    <p class="intergalactico" *ngIf="character.intergalactico"><span>Intergalático</span></p>
    <p class="intergalactico" *ngIf="character.muerto"><span>Personaje Fallecido</span></p>
    <p><strong>Titulos:</strong> {{character.titulo}}</p>
    <p><strong>Descripcion:</strong> {{character.descripcion}}</p>
    <p><strong>Edad:</strong> {{character.edad}}</p>
    <p><strong>Altura:</strong> </p>
    <p><strong>Peso:</strong> </p>
    <p><strong>Campaña:</strong> {{character.campanya}}</p>
    </div>


    <div *ngIf="activeTab ==='Stats'">

      <h1 class="monster-name">{{character.nombre}}</h1>
      <div class="monster-info">

      <p><strong>Tier List:</strong> {{character.tier}}</p>
      </div>

      <p><strong>Niveles de Clase: / </strong><span>
        <div *ngFor="let r of character.clases" style="display: inline-block;">
          {{r.class}} - {{r.level }} / &nbsp; </div>
      <hr>
      </span></p>
      <p><strong>Hit Points:</strong> {{character.pv}}</p>
      <p><strong>CA:</strong> {{character.ca}}</p>
      <p><strong>Movimiento:</strong> {{character.movimiento}}ft o {{movementRound(character.movimiento / 3.3)}}m</p>

      <hr>





    <hr>
    <div class="monster-abilities">
      <div class="ability">
        <h4>STR</h4>
        <p>{{character.fue}}</p>
      </div>
      <div class="ability">
        <h4>DEX</h4>
        <p>{{character.des}}</p>
      </div>
      <div class="ability">
        <h4>CON</h4>
        <p>{{character.con}}</p>
      </div>
      <div class="ability">
        <h4>INT</h4>
        <p>{{character.int}}</p>
      </div>
      <div class="ability">
        <h4>WIS</h4>
        <p>{{character.sab}}</p>
      </div>
      <div class="ability">
        <h4>CHA</h4>
        <p>{{character.car}}</p>
      </div>
    </div>
    <hr>

    <hr>

    <div class="monster-actions" *ngIf="counts(character.rasgos)">
      <h3>Rasgos</h3>
      <div *ngFor="let r of character.rasgos">
        <p><strong>{{r.title}}</strong>: {{r.info}}</p>
      </div>
    </div>

    <div *ngIf="counts(character.reliquia)">
      <hr>
      <h3>Reliquias</h3>
      <p *ngFor="let r of character.reliquia"><strong>- {{r}}</strong></p>
    </div>

    <div *ngIf="counts(character.singularidad)">
      <hr>
      <h3>Singularidad</h3>
      <p *ngFor="let s of character.singularidad"><strong>- {{s}}</strong></p>
    </div>
    </div>

    <div *ngIf="activeTab ==='Lore'">

      <div *ngIf="counts(character.facciones)">
        <hr>
        <h3>Facciones</h3>
        <p *ngFor="let f of character.facciones"><strong>- {{f}}</strong></p>
        <hr>
      </div>

      <div class="monster-traits">
        <h3>Lore</h3>
        <p>{{character.lore}}.</p>
      </div>
    </div>

    <div *ngIf="activeTab ==='Media'">
      <div *ngIf="counts(character.canciones)">
        <h3 >Temas de personaje</h3>
        <br>
          <div *ngFor="let t of character.canciones">
            <p><strong>- {{t.title}}: </strong> </p>
            <a class="song" href="{{t.link}}">{{t.link}}</a>ç
            <hr>
          </div>
        </div>

        <div *ngIf="counts(character.galeria)">

          <h3>Gallery</h3>
        </div>
    </div>

</div>

<div *ngIf="activeTab ==='Media'">
  <div *ngIf="counts(character.galeria)" class="container-fluid mb-4 mt-4 row row-cols-4 row-cols-md-4 row-cols-xl-4 g-4">

    <img class="card-img-top" *ngFor="let foto of character.galeria" src="{{ foto }}" />
  </div>
</div>

<div class="card mt-4" id="cardCreator" (click)="navigateUserProfile()" *ngIf="charCreator">
  <div class="card-header purpleNeon text-white"><h4>Jugador</h4></div>
  <div class="card-body d-flex flex-row">
    <div>
      <img id="creatorImg" src={{charCreator.avatar}} alt="">
    </div>
    <div>
      <div><strong id="nameCreator">{{charCreator.name}}</strong></div>
    </div>
  </div>
</div>

  <div class="mt-4 mb-4">
    <button type="button" class="btn purpleButton" *ngIf="me" [routerLink]="['/characters', character._id, 'edit']">Edit</button>&nbsp;
    <button class="btn btn-danger" *ngIf="me" (click)="deleteCharacter()">Delete</button>&nbsp;
    <button class="btn btn-primary" (click)="goBack()">Go back</button>
  </div>
</div>
